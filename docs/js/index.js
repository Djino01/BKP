"use strict";function updateAllProgress(){var e=document.querySelectorAll(".progress");null==e||e.forEach((function(e){var t=339.292,n=t-parseInt(e.getAttribute("data-percent"),10)/100*t;e.querySelector("path").style.strokeDashoffset=n}))}document.querySelectorAll(".course__top").forEach((function(e){e.addEventListener("click",(function(){var e=this.parentElement;e.classList.toggle("active"),e.classList.contains("active")?e.nextElementSibling.style.display="block":document.querySelectorAll(".course").forEach((function(e){e.classList.remove("active")}))}))})),document.addEventListener("mouseup",(function(e){var t=document.querySelector(".course.active");t&&!t.contains(e.target)&&t.classList.remove("active")})),document.addEventListener("DOMContentLoaded",updateAllProgress),document.querySelectorAll(".course-programm__top").forEach((function(e){e.addEventListener("click",(function(){var e=this.parentElement;e.classList.toggle("active"),e.classList.contains("active")?e.nextElementSibling.style.display="block":document.querySelectorAll(".course-programm__accordion").forEach((function(e){e.classList.remove("active")}))}))})),document.addEventListener("mouseup",(function(e){var t=document.querySelector(".course-programm__accordion.active");t&&!t.contains(e.target)&&t.classList.remove("active")})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".inputfile"),t="";Array.prototype.forEach.call(e,(function(e){var n=e.nextElementSibling,o=n.innerHTML;e.addEventListener("change",(function(e){(t=this.files&&this.files.length>1?(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):e.target.value.split("\\").pop())?n.querySelector("span").innerHTML=t:n.innerHTML=o})),e.addEventListener("focus",(function(){e.classList.add("has-focus")})),e.addEventListener("blur",(function(){e.classList.remove("has-focus")}))}));var n=document.querySelector(".form-document"),o=null==n?void 0:n.getAttribute("action"),r=null==n?void 0:n.getAttribute("method"),c=document.querySelector(".upload-document-modal"),a=document.querySelector(".upload-document-modal-error"),s=document.querySelector(".upload-document-modal-type"),l=document.querySelector(".btn-upload-js");function i(e){e.classList.add("active"),setTimeout((function(){e.classList.remove("active")}),3e3)}null==n||n.addEventListener("submit",(function(e){e.preventDefault();var t=document.querySelector(".type-document-js");if(t&&"0"===t.value)i(s);else{var u=new FormData(n);l.disabled=!0,fetch(o,{method:r,body:u}).then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.text()})).then((function(e){console.log("Success:",e),i(c),n.reset(),document.querySelector(".upload span").innerHTML="выберите файл",document.querySelector(".select-title__value").innerHTML="Тип документа",document.querySelector(".type-document-js").value=0})).catch((function(e){console.error("Error:",e),i(a)})).finally((function(){l.disabled=!1}))}}))})),document.querySelectorAll(".faq-accordion__top").forEach((function(e){e.addEventListener("click",(function(){var e=this.parentElement;e.classList.toggle("active"),e.classList.contains("active")?e.nextElementSibling.style.display="block":document.querySelectorAll(".faq-accordion").forEach((function(e){e.classList.remove("active")}))}))})),document.addEventListener("mouseup",(function(e){var t=document.querySelector(".faq-accordion.active");t&&!t.contains(e.target)&&t.classList.remove("active")})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".form");null==e||e.addEventListener("submit",(function(t){var n=!1,o="",r="";if(document.querySelectorAll(".form__label").forEach((function(e){var t=e.querySelector(".form__field"),c=e.querySelector(".form__error");t&&!t.disabled&&t.classList.contains("required")&&(c||((c=document.createElement("div")).classList.add("form__error"),e.appendChild(c)),"password"===t.name&&(o=t.value),t.classList.contains("password-new")&&""!==t.value.trim()&&(r=t.value),""===t.value.trim()?t.classList.contains("password-new")||t.classList.contains("password-new-recovery")?(c.classList.remove("active"),c.textContent="",c.parentNode&&c.parentNode.removeChild(c)):(c.textContent="Проверьте корректность введенных данных",c.classList.add("active"),n=!0):"password"===t.name&&t.value.length<6?(c.textContent="Пароль должен содержать от 6 символов",c.classList.add("active"),n=!0):"password-repeat"===t.name&&t.value!==o?(c.textContent="Не совпадает с введенным паролем",c.classList.add("active"),n=!0):t.classList.contains("password-new")&&t.value.length<6?(c.textContent="Пароль должен содержать от 6 символов",c.classList.add("active"),n=!0):t.classList.contains("password-new-recovery")&&t.value!==r?(c.textContent="Не совпадает с введенным паролем",c.classList.add("active"),n=!0):(c.classList.remove("active"),c.textContent="",c.parentNode&&c.parentNode.removeChild(c)))})),""!==r&&e.querySelector(".password-new-recovery").value!==r){var c=e.querySelector(".password-new-recovery").closest(".form__label"),a=c.querySelector(".form__error");a||((a=document.createElement("div")).classList.add("form__error"),c.appendChild(a)),a.textContent="Не совпадает с введенным паролем",a.classList.add("active"),n=!0}n&&t.preventDefault()}))}));var passwordFields=document.querySelectorAll(".form__password");null==passwordFields||passwordFields.forEach((function(e){e.addEventListener("click",(function(){var t=e.previousElementSibling;"password"===t.getAttribute("type")?t.setAttribute("type","text"):t.setAttribute("type","password"),e.classList.toggle("active")}))}));var phoneMask=document.querySelector(".phone-mask");function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,c=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,c=e}finally{try{o||null==s.return||s.return()}finally{if(r)throw c}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,c=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw c}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}null==phoneMask||phoneMask.addEventListener("focus",(function(){this.value.startsWith("+7")&&this.value.startsWith("8")||(this.value="+7")})),null==phoneMask||phoneMask.addEventListener("input",(function(e){if("deleteContentBackward"!=e.inputType){var t=this.value;if((t=t.replace(/\D/g,"")).length>0){var n=t.substring(0,1),o=t.substring(1,4),r=t.substring(4,7),c=t.substring(7,9),a=t.substring(9,11);t="+"+n+" ("+o+") "+r+c+a}this.value=t}})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll('.menu-search--js [name="category"]').forEach((function(e){e.addEventListener("keyup",(function(){var e,t,n=this.value.toLowerCase();""===n?(document.querySelectorAll(".menu__course-box.selected").forEach((function(e){return e.classList.remove("selected")})),document.querySelectorAll(".menu__course").forEach((function(e){return e.classList.remove("hide-accardeon")}))):(document.querySelectorAll("[data-name-menu]").forEach((function(e){e.getAttribute("data-name-menu").toLowerCase().includes(n)?e.classList.remove("hide-accardeon"):e.classList.add("hide-accardeon")})),document.querySelectorAll(".menu__list").forEach((function(e){if(e.querySelectorAll("li").length===e.querySelectorAll("li.hide-accardeon").length){var t=e.closest(".menu__course-box");if(t){t.classList.remove("selected");var n=t.previousElementSibling;n&&n.classList.remove("selected")}e.closest(".menu__course").classList.add("hide-accardeon")}else{var o=e.closest(".menu__course-box");if(o){o.classList.add("selected");var r=o.previousElementSibling;r&&r.classList.add("selected")}e.closest(".menu__course").classList.remove("hide-accardeon")}}))),e=document.querySelectorAll(".menu__course:not(.hide-accardeon)").length,(t=document.querySelector(".not-found"))&&(t.style.display=0===e?"block":"none")}))}))})),document.querySelectorAll(".menu__course-top").forEach((function(e){e.addEventListener("click",(function(){var e=this.parentElement;e.classList.toggle("active"),e.classList.contains("active")?e.nextElementSibling.style.display="block":document.querySelectorAll(".menu__course").forEach((function(e){e.classList.remove("active")}))}))})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".header__burger"),t=document.querySelector(".menu");null==e||e.addEventListener("click",(function(e){this.classList.toggle("active"),t.classList.toggle("active")}))})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".header-profile"),t=document.querySelector(".header-profile__list");null==e||e.addEventListener("click",(function(e){e.stopPropagation(),document.querySelector(".header-notice__container").classList.remove("active"),t.classList.toggle("active")})),document.addEventListener("click",(function(n){!(null==t?void 0:t.classList.contains("active"))||e.contains(n.target)||t.contains(n.target)||null==t||t.classList.remove("active")})),null==t||t.addEventListener("click",(function(e){e.stopPropagation()}))})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".header-notice"),t=document.querySelector(".header-notice__container");null==e||e.addEventListener("click",(function(e){e.stopPropagation(),document.querySelector(".header-profile__list").classList.remove("active"),t.classList.toggle("active")})),document.addEventListener("click",(function(n){!(null==t?void 0:t.classList.contains("active"))||e.contains(n.target)||t.contains(n.target)||null==t||t.classList.remove("active")})),null==t||t.addEventListener("click",(function(e){e.stopPropagation()}))})),document.addEventListener("DOMContentLoaded",(function(){Fancybox.bind("[data-fancybox]",{})})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".modal--js"),t=document.querySelectorAll(".modal-closed--js"),n=document.querySelector(".modal-form--js"),o=document.querySelector(".modal"),r=document.querySelector(".lessen__like"),c="",a=document.querySelector(".modal-form"),s=null==a?void 0:a.getAttribute("action"),l=null==a?void 0:a.getAttribute("method");e.forEach((function(e){e.addEventListener("click",(function(e){var t=e.target.closest(".modal--js");if(t){var n=t.getAttribute("data-modal");if(n){var o=document.querySelector(".".concat(n));o?o.classList.add("active"):console.error("Элемент с селектором .".concat(n," не найден."))}else console.error("Атрибут data-modal не найден.")}else console.error("Целевой элемент с классом modal--js не найден.")}))})),null==t||t.forEach((function(e){null==e||e.addEventListener("click",(function(e){document.querySelectorAll(".modal").forEach((function(e){e.classList.remove("active")}))}))})),document.addEventListener("mouseup",(function(e){document.querySelectorAll(".modal__body").forEach((function(t){if(!t.contains(e.target)){var n=t.closest(".modal");n&&n.classList.remove("active")}}))})),null==n||n.addEventListener("click",(function(e){e.preventDefault();var t=function(e){var t,n={},o=_createForOfIteratorHelper(new FormData(e).entries());try{for(o.s();!(t=o.n()).done;){var r=_slicedToArray(t.value,2),c=r[0],a=r[1];n[c]=a}}catch(e){o.e(e)}finally{o.f()}return new URLSearchParams(n).toString()}(a);fetch(s,{method:l,headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t}).then((function(e){return e.text()})).then((function(e){console.log("Success:",e)})).catch((function(e){console.error("Error:",e)})),o.classList.remove("active");var n=document.querySelector('input[name="reviews"]:checked');if(n){var i=n.value;c&&r.classList.remove(c),r.classList.add(i),c=i}}))})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".select").forEach((function(e){e.addEventListener("click",(function(t){if(!e.classList.contains("disabled")){document.querySelectorAll(".select").forEach((function(t){t!==e&&(t.classList.remove("active"),t.querySelector(".select-options").style.display="none")})),e.classList.toggle("active");var n=e.querySelector(".select-options");n.style.display="block"===n.style.display?"none":"block"}}))})),document.querySelectorAll(".select-options__value").forEach((function(e){e.addEventListener("click",(function(){document.querySelectorAll(".select-options__value").forEach((function(e){e.classList.remove("active")}));var t=e.closest(".select");t.querySelector(".select-title__value").innerHTML=e.innerHTML,e.classList.add("active");var n=t.querySelector("input"),o=e.dataset.value.trim();n.value=""!==o?o:e.innerHTML}))})),document.addEventListener("click",(function(e){e.target.closest(".select")||document.querySelectorAll(".select").forEach((function(e){e.classList.remove("active"),e.querySelector(".select-options").style.display="none"}))}))})),document.querySelectorAll(".uploaded-documents__delete").forEach((function(e){e.addEventListener("click",(function(t){var n=t.target.closest(".uploaded-documents__item");if(n){var o=e.getAttribute("data-action"),r=e.getAttribute("data-id"),c=new XMLHttpRequest;c.open("POST",o,!0),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.onload=function(){if(200===c.status){n.remove();var e=document.querySelector(".uploaded-documents");0===e.querySelectorAll(".uploaded-documents__item").length&&(e.style.display="none")}else console.error("Ошибка при удалении документа")},c.onerror=function(){console.error("Ошибка сети")},c.send("id=".concat(r))}}))}));